<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:v="http://xmlns.jcp.org/jsf/composite/components">
	<h:form id="frm-charts" >
		<h:panelGroup layout="block" rendered="#{chartsView.visible}">
			<v:modal id="charts" widgetVar="charts-dlg" header="#{chartsView.title}">
				<p:ajax event="close" listener="#{chartsView.close}"
							update=":frm-charts" />
				<f:facet name="dialogFields">
					<h:panelGroup id="pie" layout="block" style="width:100%" rendered="#{chartsView.showPieChart}">
						<p:chart type="pie" model="#{chartsView.pieModel}" 
							style="height:400px;width:800px;overflow:auto;" widgetVar="pie-chart"/>
					</h:panelGroup>
					<h:panelGroup id="line" layout="block" style="width:90%" rendered="#{chartsView.showLineChart}">
						<p:chart type="line" model="#{chartsView.chartModel}" 
							style="height:400px;width:1000px;overflow:auto;" />
					</h:panelGroup>
				</f:facet>
				<f:facet name="footer">
					<h:panelGroup layout="block" styleClass="center">
						<p:commandButton value="#{constants['default.close']}" action="#{chartsView.close}"
							ajax="true" process="@this, :frm-charts"
							update=":frm-charts" onsuccess="PF('charts-dlg').hide();"/>
					</h:panelGroup>
				</f:facet>
			</v:modal>	
		</h:panelGroup>	
	</h:form>
</ui:composition>